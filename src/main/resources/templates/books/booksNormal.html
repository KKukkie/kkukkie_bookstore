<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
    <title>쿠키의 서점</title>
    <meta charset="utf-8">
    <link th:href="@{/css/bootstrap.css}" href="/css/bootstrap.css" rel="stylesheet">
</head>
<body>

<div class="container" style="max-width: 700px">

    <div class="py-5 text-center">
        <h2 th:text="#{label.book.list}">책 목록</h2>
    </div>

    <hr class="my-4">
    <div>
        <table class="table">
            <thead>
            <tr>
                <!--<th th:text="#{label.item.id}">ID</th>-->
                <th th:text="#{label.item.hold}">소지</th>
                <th th:text="#{label.item.name}">상품명</th>
                <th th:text="#{label.item.price}">가격</th>
                <th th:text="#{label.item.count}">수량</th>
                <th th:text="#{label.item.isbn}">ISBN</th>
            </tr>
            </thead>

            <tbody>
            <tr th:each="bookDto : ${bookDtoList}">
                <td>
                    <span th:hidden="${(bookDto.save == false)}" class="badge rounded-pill bg-success">Y</span>
                    <span th:hidden="${(bookDto.save == true)}" class="badge rounded-pill bg-danger">N</span>
                </td>

                <!--<td th:text="${bookDto.id}">null</td>-->
                <td th:text="${bookDto.name}">null</td>
                <td th:text="${bookDto.price}">1</td>
                <td th:text="${bookDto.count}">1</td>
                <td th:text="${bookDto.isbn}">null</td>
                <td>
                    <div>
                        <button th:disabled="${(bookDto.count <= 0) || (bookDto.save == true)}" class="btn btn-secondary btn-sm"
                                th:onclick="|location.href='@{/books/{memberId}/addtolist/{bookId}(memberId=${memberId}, bookId=${bookDto.id})}'|"
                                type="button" th:text="담기"></button>
                    </div>
                </td>
                <td>
                    <div>
                        <button th:disabled="${(bookDto.count > 0) || (bookDto.save == false)}" class="btn btn-secondary btn-sm"
                                th:onclick="|location.href='@{/books/{memberId}/removefromlist/{bookId}(memberId=${memberId}, bookId=${bookDto.id})}'|"
                                type="button" th:text="빼기"></button>
                    </div>
                </td>
            </tr>
            </tbody>

        </table>
    </div>

    <hr class="my-4">
    <div class="row">
        <div class="col">
            <button class="w-25 btn btn-secondary btn-sm"
                    onclick="location.href='books.html'"
                    th:onclick="|location.href='@{/}'|"
                    type="button" th:text="#{button.back}">뒤로</button>
        </div>
    </div>

</div> <!-- /container -->

</body>
</html>
